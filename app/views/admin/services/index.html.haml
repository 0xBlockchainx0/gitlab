- page_title "Service Templates"
- @content_class = 'limit-container-width' unless fluid_layout

- if show_service_templates_deprecated?
  .gl-alert.gl-alert-tip.js-service-templates-deprecated.gl-mt-5{ role: 'alert', data: { feature_id: UserCalloutsHelper::SERVICE_TEMPLATES_DEPRECATED, dismiss_endpoint: user_callouts_path } }
    = sprite_icon('bulb', size: 16, css_class: 'gl-icon gl-alert-icon gl-alert-icon-no-title')
    %button.js-close.gl-alert-dismiss{ type: 'button', 'aria-label' => _('Dismiss') }
      = sprite_icon('close', size: 16, css_class: 'gl-icon')
    .gl-alert-body
      %h4.gl-alert-title= s_('AdminSettings|Service Templates will soon be deprecated.')
      = s_('AdminSettings|Try using the latest version of Integrations instead.')
    .gl-alert-actions
      = link_to _('Go to Integrations'), integrations_admin_application_settings_path, class: 'btn btn-info gl-alert-action gl-button'
      = link_to _('Learn more'), help_page_path('user/project/integrations/services_templates'), class: 'btn gl-alert-action btn-secondary gl-button'

%h3.page-title Service templates
%p.light= s_('AdminSettings|Service template allows you to set default values for integrations')

.table-holder
  %table.table
    %colgroup
      %col
      %col
      %col
      %col{ width: 135 }
    %thead
      %tr
        %th
        %th Service
        %th Description
        %th Last edit
    - @services.each do |service|
      %tr
        %td
          = boolean_to_icon service.activated?
        %td
          = link_to edit_admin_application_settings_service_path(service.id) do
            %strong= service.title
        %td
          = service.description
        %td.light
          = time_ago_with_tooltip service.updated_at
