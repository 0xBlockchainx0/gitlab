- project_duration = age_map_duration(@blame_groups, @project)
- page_title "Blame", @blob.path, @ref
- sprite_icon = sprite_icon('doc-versions', size: 16, css_class: 'doc-versions align-text-bottom')
- link_icon = icon("link")

#blob-content-holder.tree-holder
  = render "projects/blob/breadcrumb", blob: @blob, blame: true

  .file-holder
    = render "projects/blob/header", blob: @blob, blame: true
    .file-blame-legend
      = render 'age_map_legend'
    .table-responsive.file-content.blame.code.js-syntax-highlight
      %table
        - current_line = 1
        - @blame_groups.each do |blame_group|
          = render 'blame_group', blame_group: blame_group, project_duration: project_duration, sprite_icon: sprite_icon, current_line: current_line, link_icon: link_icon
          - current_line += blame_group[:lines].count
