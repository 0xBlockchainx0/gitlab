= form_for @project, url: namespace_project_pages_path(@project.namespace.becomes(Namespace), @project), html: { class: 'inline', title: pages_https_only_title } do |f|
  - if Gitlab.config.pages.external_http || Gitlab.config.pages.external_https
    - if current_user.admin? && License.feature_available?(:max_pages_size)
      .form-group
        = f.label :max_pages_size, class: 'label-bold' do
          Maximum size of pages (MB)
        = f.number_field :max_pages_size, value: f.object.max_pages_size.try(:to_mb), class: 'form-control', min: 0
        %span.form-text.text-muted#repository_size_limit_help_block
          = s_('GitLabPages|The total size of deployed static content will be limited to this size.  0 for unlimited.  Leave empty to inherit the global value.')

    .form-group
      .form-check
        = f.check_box :pages_https_only, class: 'form-check-input', disabled: pages_https_only_disabled?
        = f.label :pages_https_only, class: pages_https_only_label_class do
          %strong
            = s_('GitLabPages|Force HTTPS (requires valid certificates)')

    .prepend-top-10
      = f.submit s_('GitLabPages|Save'), class: 'btn btn-success'
