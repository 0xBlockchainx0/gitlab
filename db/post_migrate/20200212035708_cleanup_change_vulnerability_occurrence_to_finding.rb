# frozen_string_literal: true

class CleanupRenamePagesDomainsDomainTypeToScope < ActiveRecord::Migration[5.2]
  include Gitlab::Database::MigrationHelpers

  DOWNTIME = false

  disable_ddl_transaction!

  def up
    cleanup_concurrent_column_rename :vulnerability_occurrence_identifiers, :occurrence_id, :finding_id
    cleanup_concurrent_column_rename :vulnerability_occurrence_pipelines, :occurrence_id, :finding_id
  end

  def down
    undo_cleanup_concurrent_column_rename :vulnerability_occurrence_identifiers, :occurrence_id, :finding_id
    undo_cleanup_concurrent_column_rename :vulnerability_occurrence_pipelines, :occurrence_id, :finding_id
  end
end
